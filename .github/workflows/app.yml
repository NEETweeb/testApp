name: 'sample app repo'

on: [workflow_dispatch]
#  push:
#    branches: [ main, master ]
#  pull_request:
#    branches: [ main, master ]

jobs:
  trigger_workflow:
    runs-on: ubuntu-latest
    steps:
      - name: Echo Workflow name
        shell: bash
        run: |
          echo "I am Workflow of Parent REPO"
      - name: Trigger automation tests
        steps:
        - uses: actions/github-script@v6
          with:
            github-token: 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
            script: |
              await github.rest.actions.createWorkflowDispatch({
              owner: 'NEETweeb',
              repo: 'e2e_netmaykah',
              workflow_id: 'playwright.yml',
              ref: 'main'
              })

#      - name: Trigger child repo workflow
#        uses: convictional/trigger-workflow-and-wait@v1.6.1
#        with:
#          owner: NEETweeb
#          repo: e2e_netmaykah
#          github_token: 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
#          workflow_file_name: playwright.yml
#          ref: main
#          wait_interval: 10
#          propagate_failure: true
#          trigger_workflow: true
#          wait_workflow: true
